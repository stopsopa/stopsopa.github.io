<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>stopsopa.github.io</title>
    <script>
      (function () {
        var resolve;
        var p = new Promise(function (res) {
          resolve = res;
        });

        document.addEventListener("DOMContentLoaded", () => {
          Array.prototype.slice.call(document.querySelectorAll('[class="domain.com"]')).forEach(function (tag) {
            var text = tag.innerHTML;

            text = text.replace(/domain\.com/g, location.origin);

            tag.innerHTML = text;
          });

          resolve();
        });

        window.beforeAceEventPromise = function () {
          return p;
        };
      })();
    </script>
  </head>
  <body class="layout" toc>
    <div class="body">
      <div class="inside">
        <div class="cards">
          <h2>Read Lua ver 5</h2>
          <a href="http://www.lua.org/pil/p1.2.html">Programming in Lua (first edition) [Book]</a>
          <h2>Install lua</h2>
          <a href=""></a>
          <script type="editor" data-lang="sh">

            # mac
            export HOMEBREW_NO_AUTO_UPDATE=1 && brew install lua
          </script>
          <h2>ZeroBrane Studio</h2>
          <a href="https://github.com/pkulchenko/ZeroBraneStudio/issues/1075">https://github.com/pkulchenko/ZeroBraneStudio/issues/1075</a>
          <script type="editor" data-lang="python">

# installation
1) 
    Install app from https://studio.zerobrane.com/download?not-this-time

2)
    Run script:
            
export APPDIR="/Applications/ZeroBraneStudio.app/Contents/ZeroBraneStudio"
cd "$(mktemp -d)"
git clone git@github.com:pkulchenko/ZeroBraneStudio.git .
# git checkout e91ed23c25a65f780faa5de061f2ed9cdfe2d1bd
    # latest commit (as of 2023-06-25) of branch: https://github.com/pkulchenko/ZeroBraneStudio/commits/lua54 
    # mentioned in https://github.com/pkulchenko/ZeroBraneStudio/issues/1075 and https://stackoverflow.com/a/76548375
(cd build; bash ./build-macosx.sh lua 5.4 luasocket) | tee _build.log   
    # expected message >*** Build has been successfully completed ***<
       
cat <<EEE > "./interpreters/luadeb54.lua"
dofile 'interpreters/luabase.lua'
local interpreter = MakeLuaInterpreter(5.4, ' 5.4')
interpreter.skipcompile = true
return interpreter            
EEE
    # from https://stackoverflow.com/a/76548375 
            
open ./bin
open "${APPDIR}/bin"
  # and copy manually
mv bin/clibs54 "${APPDIR}/bin/"
mv bin/lua54 "${APPDIR}/bin/"
mv bin/liblua54.dylib "${APPDIR}/bin/"

open ./interpreters   
open "${APPDIR}/interpreters"  
  # then copy manually between these two directories
interpreters/luadeb54.lua

open ./lualibs/mobdebug   
open "${APPDIR}/lualibs/mobdebug"          
  # REPLACE manually mobdebug.lua    
          
# app should be ready to run now

# after running the app
# choose from menu 
#     Project -> Lua Interpreter -> Lua 5.4
            
            
            
          </script>
        </div>
      </div>
    </div>
    <script src="/js/github.js"></script>
  </body>
</html>
