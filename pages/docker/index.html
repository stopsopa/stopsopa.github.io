<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>stopsopa.github.io</title>
    <script>
        (function () {
            var resolve;
            var p = new Promise(function (res) {
                resolve = res;
            });

            document.addEventListener('DOMContentLoaded', () => {

                Array.prototype.slice.call(document.querySelectorAll('[class="domain.com"]')).forEach(function (tag) {

                    var text = tag.innerHTML;

                    text = text.replace(/domain\.com/g, location.origin)

                    tag.innerHTML = text;
                });

                resolve();
            });

            window.waitForPromise = function () {

                return p;
            }
        }())
    </script>
    <script src="/js/github.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {

        });
    </script>
</head>
<body class="layout" toc>

    <div class="body">
        <div class="inside">

            <div class="cards">

                <h2>Images - Dockerfile</h2>
                <a href="./images.html">Images - Dockerfile</a>

                <h2>Useful commands</h2>
                <script type="editor" data-lang="bash">
                
docker history --format "\t{{.Size}}\t\t{{.CreatedBy}}" 1de239ccac3e --no-trunc 

docker image prune -a --force --filter "until=480h"
docker system prune --all --volumes --force
    # from: https://docs.docker.com/config/pruning/
    
docker system df

docker container rm puppeteer-test -f
    # stop and remove container immediately

                </script>

                <h2>Docker registry urls</h2>
                <script type="editor" data-lang="bash">

https://domain.com/v2/_catalog
https://domain.com/v2/username/appname/tags/list

https://hub.docker.com/v2/search/repositories/?query=browserless

https://hub.docker.com/v2/repositories/browserless
https://hub.docker.com/v2/repositories/browserless/chrome/
https://hub.docker.com/v2/repositories/browserless/chrome/tags

ls -la /var/lib/docker/registry/docker/registry/v2/repositories
# rm -rf /var/lib/docker/registry/docker/registry/v2/reposit...

# removing image:
curl -v --silent -H "authorization: Basic YWRta...akc=" -X DELETE https://docker-registry.domain.com/v2/puppeteer-1-20-0/manifests/sha256:ef75836309692....53dff9e325167

                </script>
                <a href="https://github.com/docker/distribution/blob/master/docs/spec/api.md#detail">https://github.com/docker/distribution/blob/master/docs/spec/api.md#detail</a>
                <a href="./listtags.html">List tags tool</a>
            </div>
        </div>
    </div>
</body>
</html>
