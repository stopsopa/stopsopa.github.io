<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />
    
    <title>Chrome Media - Hardware Buttons & APIs</title>
    <style>
      p {
        margin: 0;
      }
      pre {
        border: 1px solid black;
        min-height: 100px;
      }
    </style>
  </head>
  <body class="layout bg">
    <div class="body">
      <div class="inside">
        <h2>Hardware Media buttons</h2>
        <p>
          <a href="https://developer.mozilla.org/en-US/docs/Web/API/Media_Session_API"
            >https://developer.mozilla.org/en-US/docs/Web/API/Media_Session_API</a
          >
        </p>

        <p>
          <a href="https://googlechrome.github.io/samples/media-session/audio.html"
            >https://googlechrome.github.io/samples/media-session/audio.html</a
          >
        </p>

        <p>
          &nbsp; &nbsp; &nbsp; &nbsp; from:
          <a href="https://developer.chrome.com/blog/media-session/"
            >https://developer.chrome.com/blog/media-session/</a
          >
        </p>
        <pre></pre>
      </div>
    </div>
    <script type="module" src="/js/github.js"></script>
    <script>
      const pre = document.querySelector("pre");
      function l(str) {
        pre.innerHTML = String(str) + "\n" + pre.innerHTML;
      }
      if ("mediaSession" in navigator) {
        l('condition "mediaSession" in navigator is true');

        navigator.mediaSession.metadata = new MediaMetadata({
          title: "Unforgettable",
          artist: "Nat King Cole",
          album: "The Ultimate Collection (Remastered)",
          artwork: [
            {
              src: "https://dummyimage.com/96x96",
              sizes: "96x96",
              type: "image/png",
            },
            {
              src: "https://dummyimage.com/128x128",
              sizes: "128x128",
              type: "image/png",
            },
            {
              src: "https://dummyimage.com/192x192",
              sizes: "192x192",
              type: "image/png",
            },
            {
              src: "https://dummyimage.com/256x256",
              sizes: "256x256",
              type: "image/png",
            },
            {
              src: "https://dummyimage.com/384x384",
              sizes: "384x384",
              type: "image/png",
            },
            {
              src: "https://dummyimage.com/512x512",
              sizes: "512x512",
              type: "image/png",
            },
          ],
        });

        navigator.mediaSession.setActionHandler("play", () => {
          l("play");
        });
        navigator.mediaSession.setActionHandler("pause", () => {
          l("pause");
        });
        navigator.mediaSession.setActionHandler("stop", () => {
          l("stop");
        });
        navigator.mediaSession.setActionHandler("seekbackward", () => {
          l("seekbackward");
        });
        navigator.mediaSession.setActionHandler("seekforward", () => {
          l("seekforward");
        });
        navigator.mediaSession.setActionHandler("seekto", () => {
          l("seekto");
        });
        navigator.mediaSession.setActionHandler("previoustrack", () => {
          l("previoustrack");
        });
        navigator.mediaSession.setActionHandler("nexttrack", () => {
          l("nexttrack");
        });
        // navigator.mediaSession.setActionHandler("skipad", () => {
        //   l("skipad");
        // });
      } else {
        l('condition "mediaSession" in navigator is false');
      }
    </script>
  </body>
</html>
