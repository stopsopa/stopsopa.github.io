<!DOCTYPE HTML>
<html lang="en-US">
<head>
    <!--http://httpd.pl/stopsopa.github.io/demos/jquery.elkanatooltip/generator.html-->
    <meta charset="UTF-8">
    <title>jQuery.elkanatooltip by Szymon Działowski</title>
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">

    <meta name="description" content="jQuery.line plugin to draw lines in HTML5 using pure CSS3 by Szymon Działowski">
    <meta name="keywords" content="jQuery.line plugin draw lines html5 css3">

    <script src="../../js/jquery-1.11.2.js"></script>
    <script src="../../js/jquery-ui-draggable.js"></script>

    <link rel="stylesheet" type="text/css" href="../../js/bootstrap-3.3.4/css/bootstrap-rewrite.css" media="all" />

    <script src="../../js/jquery.minicolors/jquery.minicolors.2.2.3.js"></script>
    <link rel="stylesheet" type="text/css" href="../../js/jquery.minicolors/jquery.minicolors.2.2.3.css" media="all" />

    <script src="//d1n0x3qji82z53.cloudfront.net/src-min-noconflict/ace.js" charset="utf-8"></script>
    <link rel="stylesheet" type="text/css" href="../../js/aceedit/jquery.aceedit.css" media="all" />
    <script src="../../js/aceedit/jquery.aceedit.js"></script>
    
    <script src="../../js/underscore.js"></script>
    <script src="../../js/URI.js"></script>
    <script src="jquery.urlstate.js"></script>

    <style type="text/css" data-style></style>

<!--	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script>window.jQuery || document.write(unescape('%3Cscript src="http://jquery.com/jquery-wp-content/themes/jquery/js/jquery-1.9.1.min.js"%3E%3C/script%3E'))</script>
	<link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" media="all" />
	<script src="http://httpd.pl/poligon/jquery.line/jquery.minicolors/jquery.minicolors.js"></script>
	<link rel="stylesheet" type="text/css" href="http://httpd.pl/poligon/jquery.line/jquery.minicolors/jquery.minicolors.css" media="all" />

	<link rel="stylesheet" type="text/css" href="http://stopsopa.bitbucket.org/js/bootstrap/css/bootstrap-rewrite.css" media="all" />   -->



    <!--<link href="//fonts.googleapis.com/css?family=Open+Sans:400,300,700,800&subset=latin,cyrillic-ext,latin-ext,cyrillic" rel="stylesheet" type="text/css">-->
    <script src="jquery.elkanatooltip.js"></script>
    <!--<link data-source rel="stylesheet" type="text/css" href="jquery.elkanatooltip.css" media="all" />-->

    <style type="text/css">
        body {
            margin-top: 50px;
        }
        #body .ff {
	    font-family: "Open Sans",Arial,Helvetica,Sans-Serif;
        }
        th,
        .f * ,
        .f {
            margin: 0;
            padding: 0;
	    font-family: "Open Sans",Arial,Helvetica,Sans-Serif;
        }
        #cont {
            width: 950px;
            margin: auto;
        }
        .right {
            float: right;
        }
        .reset {
            float: right;
            margin-right: 52px;
            margin-top: 87px;
        }
        td {
            vertical-align: top;
        }
        #test {
            padding-bottom: 77px;
            padding-left: 78px;
            padding-top: 20px;
        }
        .clear {
            clear: both;
        }
        .red {
            color: red;
        }
        .col1 {
            width: 32%;
        }
        .col2 {
            width: 68%;
        }
        .col2 > p {
	    font-family: "Open Sans",Arial,Helvetica,Sans-Serif;
            margin: 2px;
        }
        .left {
            float: left;
        }
        .drag {
            padding: 10px;
            border: 1px solid silver;
	    font-family: "Open Sans",Arial,Helvetica,Sans-Serif;
            cursor: move;
            white-space: nowrap;
            background-color: white;
            z-index: 6;
        }
        .animated {
            -webkit-animation-duration: 1s;
            animation-duration: 1s;
            -webkit-animation-fill-mode: both;
            animation-fill-mode: both;
            -webkit-animation-timing-function: linear;
            animation-timing-function: linear;
            animation-iteration-count:infinite;
            -webkit-animation-iteration-count:infinite;
        }
        @-webkit-keyframes bounce {
            0%, 40%, 50%, 60%, 100% {-webkit-transform: translateY(0);}
            45% {-webkit-transform: translateY(-5px);}
            55% {-webkit-transform: translateY(5px);}
        }
        @keyframes bounce {
            0%, 40%, 50%, 60%, 100% {transform: translateY(0);}
            45% {transform: translateY(-5px);}
            55% {transform: translateY(5px);}
        }
        .bounce {
            color: #333;
            -webkit-animation-name: bounce;
            animation-name: bounce;
        }

        .int {
            position: relative;
        }
        .int > span {
            position: absolute;
            border: 1px solid gray;
            right: 0;
            width: 10px;
            height: 10px;
        }

        .int > span:hover {
            background-color: #2f2e2e;
        }
        .int > span.up {
            top: 0;
        }
        .int > span.down {
            bottom: 0;
        }
        .int > span::before {
            content: "";
            border: 4px solid transparent;
            position: absolute;
            left: 1px;
        }
        .int > span.up::before {
            border-bottom-color: #2f2e2e;
            bottom: 3px;
        }
        .int > span.up:hover::before {
            border-bottom-color: white;
        }
        .int > span.down::before {
            border-top-color: #2f2e2e;
            top: 3px;
        }
        .int > span.down:hover::before {
            border-top-color: white;
        }
        .minicolors-theme-bootstrap .minicolors-swatch {
            height: 15px;
        }
        [data-colors] {
            width: 99px;
            padding-left: 2px !important;
        }
        .controls {
            width: 97%;
        }
        .controls input {
            width: 200px;
        }
        body .minicolors-theme-bootstrap.minicolors-position-right .minicolors-input {
            padding: 2px;
        }
        .minicolors-theme-bootstrap.minicolors-position-right li.minicolors-swatch {
            left: 0;
        }
        .minicolors-panel {
            margin-right: 40px;
        }
        .t {
            font-family: "Open Sans",Arial,Helvetica,Sans-Serif;
        }
        .tip {
            font-size: 10px;
            color: #333;
            margin: 2px;
        }
    </style>

    <script>
        function log(l) {try {console.log(l);} catch (e) {}};

        $(function () {

            window.edit = $.noop;

            (function (t) {

                t.each(function () {
                    var t = $(this);

                    var _t = (t.data('int') || ':').split(':');

                    var min = parseInt(_t[0]);
                    (isNaN(min)) && (min = null);

                    var max = parseInt(_t[1]);
                    (isNaN(max)) && (max = null);

                    var p = t.wrap($('<div></div>').addClass('int')).parent();

                    $('<span></span>').addClass('up').appendTo(p).on('click', function () {
                        var v = parseInt(t.val());

                        if (max !== null && v >= max) {
                            return;
                        }
                        t.val(v + 1);

                        edit();
                    });

                    $('<span></span>').addClass('down').appendTo(p).on('click', function () {
                        var v = parseInt(t.val());

                        if (min !== null && v <= min) {
                            return;
                        }
                        t.val(v - 1);

                        edit();
                    });
                });
            }( $('[data-int]') ));

            $('[data-colors]').minicolors({
                control: 'wheel', // hue, brightness, saturation, and wheel. http://labs.abeautifulsite.net/jquery-minicolors/
                inline: false,
                letterCase: 'uppercase',
                position: 'top right',
                theme: 'bootstrap',
//                opacity: true,
                defaultValue: 'transparent',
//                format: 'rgb',
                swatches: ['#fff', '#bbb', '#333', '#E83743', '#2ACC32', '#223CFF'],
                change: function () {
                    edit();
                }
            });

            $('[href=""]').attr('href', location.pathname);

            var update = $.urlstate({
                collection: {
                    w : function (s, value) {

                        var def = '1';

                        if (s === 'def')
                            return def;

                        var field = $('[name="width"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    c : function (s, value) {

                        var def = '#333333';

                        if (s === 'def')
                            return def;

                        var field = $('[name="color"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    a : function (s, value) {

                        var def = '7';

                        if (s === 'def')
                            return def;

                        var field = $('[name="arrow"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    r : function (s, value) {

                        var def = '2';

                        if (s === 'def')
                            return def;

                        var field = $('[name="radius"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    b : function (s, value) {

                        var def = '#ffffff';

                        if (s === 'def')
                            return def;

                        var field = $('[name="bgcolor"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    d : function (s, value) {

                        var def = '4';

                        if (s === 'def')
                            return def;

                        var field = $('[name="distance"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    },
                    cls : function (s, value) {

                        var def = 'elkanatooltip';

                        if (s === 'def')
                            return def;

                        var field = $('[name="cls"]');

                        if (s === 'read') {
                            var v = field.val();
                            if ((v+'').length) {
                                return v;
                            }
                            return def;
                        }

                        field.val(value);
                    }
                }
            });

            window.update = update;

            $('[data-change]').on('keyup', function () {
                var url = update();
                log('url after change: "'+url+'"')
                edit();
            })

            ;(function () {

                var target      = $('[data-target]');
                var ltmp        = '<style type="text/css" data-source></style>';
//                <link rel="stylesheet" type="text/css" href="${1:style}.css" media="all" />
                var head        = $('head');

                var testdivs    = _.template($('[data-testdivs]').html());

                var testdiv     = $('#test');

                target.attr('data-h', ($(window).height() - 120) +'px'); //  data-h="48px"

                $.aceedit();

                window.dedit    = target.data('editor');

                $('[data-select]').on('click', function () {
                    dedit.selectAll();
                })

                var tmp, option = { 
                    position: {
                        my: 'top',
                        at: 'bottom'
                    },
                    border: false,
                    forceRecalculateBorder: true
                };

                $.ajax('./jquery.elkanatooltip_tmp.css')
                    .done(function (tmp) {

                        tmp = _.template(tmp);

                        edit = _.debounce(function () {

                            try {
                                testdiv.empty().html(testdivs());

                                var elem        = testdiv.find('.test_element');
                                var tool        = testdiv.find('.test_tooltip');

                                var d = update.defform();
                                d.a = parseInt(d.a)
                                d.w = parseInt(d.w)
                                d.r = parseInt(d.r)
                                d.d = parseInt(d.d)

    //                            var style = tmp({json: option});
                                var style = "/* url: "+update()+" */\n"+$.trim(
                                    tmp({
                                        json: option,
                                        perma: d,
                                        url: update()
                                    })
                                    .replace(/\n\s*\n/g, "\n").replace(/\n\s*\n/g, "\n")
                                    .replace(/(\/\*[.\S\s]*?\*\/)/g, '').replace(/\n\s*\n/g, "\n")
                                    .replace(/\n\s+/g, "\n    ").replace(/\n\s*}\s*\n\s*/g, "\n}\n")
                                    .replace(/,\n\s+/g, ',\n')
                                );

                                $('[data-source]').remove();
                                $(ltmp).appendTo(head).html(style);
                                option.cls = d.cls;

//                                dedit.setValue(style.replace(/\n\s*\n/g, '\n'));
                                dedit.setValue(style);
                                dedit.clearSelection();
                                dedit.getSession().setScrollTop(0);

                                elem.elkanatooltip(tool, option);

                                elem
                                    .draggable({
                                        drag: function () {
                                            process.nextTick(function() {
                                                elem.elkanatooltip(true, d.cls);
                                            });
                                        }
                                    })
                                    .click(function () {
                                        elem.elkanatooltip(!elem.elkanatooltip(null, d.cls).show, d.cls);
                                    });

                                $('table input:radio').unbind('click').click(function () {
                                    var t = $(this);
                                    option.position[t.attr('name')] = t.val();
                                    elem.elkanatooltip(tool, option);
                                });
                            }
                            catch (e) {
                                log('To early to call edit(): '+e)
                            }

                        }, 300);

                        edit();

                    });

                function download(filename, content) {
                    var element = document.createElement('a');
                    element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(content));
                    element.setAttribute('download', filename);
                    element.style.display = 'none';
                    document.body.appendChild(element);
                    element.click();
                    document.body.removeChild(element);
                }

                $('[data-download]').on('click', function () {
                    download('elkanatooltip_'+$('[name="cls"]').val()+'_'+$.now()+'.css', dedit.getValue())
                });

            })();

//
//
//
//            $('button[data-style]').click(function () {
//                $('style[data-style]').html($('script[data-style]').html())
//            });
//            
        });
    </script>
</head>
<body id="body">
<!--    <button data-style>style</button>
    <script type="text/tmp" data-style>
        * {
            color: red !important;
        }
    </script>-->
    
    <div id="cont">
	<div class="btsp">
<!--            <div class="alert alert-info btsp f">
                <i class="glyphicon glyphicon-info-sign btsp"></i> Adjust setup and have fun while draging and clicking elements on this page
            </div> -->

            <div class="col1 left">

                <div class="btsp">
                    <a href="https://github.com/stopsopa/elkanatooltip" class="btn btn-link btsp f" id="home" target="_blank"><img src="https://github.com/fluidicon.png" height="31" /> manual/download</a>
                    <a href="" class="reset btn btn-link btsp f">reset</a>
                </div>

                <table class="left">
                    <thead>
                        <tr>
                            <th colspan="3">me <sup class="red">*</sup></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="radio" name="my" value="left top" autocomplete="off"/></td>
                            <td><input type="radio" name="my" value="top" autocomplete="off" checked="checked"/></td>
                            <td><input type="radio" name="my" value="right top" autocomplete="off"/></td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="my" value="left" autocomplete="off"/></td>
                            <td><input type="radio" name="my" value="center center" autocomplete="off"/></td>
                            <td><input type="radio" name="my" value="right" autocomplete="off"/></td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="my" value="left bottom" autocomplete="off"/></td>
                            <td><input type="radio" name="my" value="bottom" autocomplete="off"/></td>
                            <td><input type="radio" name="my" value="right bottom" autocomplete="off"/></td>
                        </tr>
                    </tbody>
                </table>
                <table class="left">
                    <thead>
                        <tr>
                            <th colspan="3">at <sup class="red">*</sup></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="radio" name="at" value="left top" autocomplete="off"/></td>
                            <td><input type="radio" name="at" value="top" autocomplete="off"/></td>
                            <td><input type="radio" name="at" value="right top" autocomplete="off"/></td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="at" value="left" autocomplete="off"/></td>
                            <td><input type="radio" name="at" value="center center" autocomplete="off"/></td>
                            <td><input type="radio" name="at" value="right" autocomplete="off"/></td>
                        </tr>
                        <tr>
                            <td><input type="radio" name="at" value="left bottom" autocomplete="off"/></td>
                            <td><input type="radio" name="at" value="bottom" autocomplete="off" checked="checked"/></td>
                            <td><input type="radio" name="at" value="right bottom" autocomplete="off"/></td>
                        </tr>
                    </tbody>
                </table>

                <div class="clear"></div>

                <table class="controls t">
                    <tbody>
                        <tr>
                            <td width="79">class</td>
                            <td><input type="text" value="" name="cls" data-change /></td>
                        </tr>
                        <tr>
                            <td>width</td>
                            <td><input type="text" value="" name="width" data-change data-int="0:"/></td>
                        </tr>
                        <tr>
                            <td>color</td>
                            <td><input type="text" value="" name="color" data-change data-colors /></td>
                        </tr>
                        <tr>
                            <td>arrow</td>
                            <td><input type="text" value="" name="arrow" data-change data-int="0:"/></td>
                        </tr>
                        <tr>
                            <td>radius</td>
                            <td><input type="text" value="" name="radius" data-change data-int="0:"/></td>
                        </tr>
                        <tr>
                            <td>bg color</td>
                            <td><input type="text" value="" name="bgcolor" data-change data-colors/></td>
                        </tr>
                        <tr>
                            <td>distance</td>
                            <td><input type="text" value="" name="distance" data-change data-int/></td>
                        </tr>
                    </tbody>
                </table>
                <p class="tip t">* Rest of params change manually in css or override better</p>

                <div class="clear"></div>




                <div id="test" class="left f">

<!--
                     target element vvv
                        <div id="test_element" class="drag">drag or click</div>
                     target element ^^^

                     tooltip element vvv
                        <div id="test_tooltip">first line <br /> second line</div>
                     tooltip element ^^^
-->

                </div>

                <div class="clear"></div>
<!--
                <div class="btspa">
                    <span class="animated bounce glyphicon glyphicon-exclamation-sign"></span> See also extension/wrappers:
                    <ul>
                        <li><a href="datawrapper.html">data wrapper extension</a></li>
                        <li><a href="titlewrapper.html">title wrapper extension</a></li>
                    </ul>
                </div>
                <div class="btspa">
                    <ul>
                        <li>napisać manual</li>
                        <li>title wrapper</li>
                        <li>data-* wrapper</li>
                    </ul>
                </div>-->
            </div>

            <div class="col2 left">
                <p>Live css styles:</p>
                <div data-target class="syntax" data-lang="css" data-w="644px">
                    <script type="text/tmp">
/* testowy css ma być zastąpiony przez javascript */
$font-stack:    Helvetica, sans-serif;
$primary-color: #333;

body {
  font: 100% $font-stack;
  color: $primary-color;
}
                    </script>
                </div>

                <div class="btspa">
                    <div class="btn-group">
                        <button class="btn btn-xs btn-success ff" data-select>
                            <i class="glyphicon glyphicon-copy"></i>
                            Select all to copy
                        </button>
                        <button class="btn btn-xs btn-success ff" data-download>
                            <i class="glyphicon glyphicon-download"></i>
                            download as a css file
                        </button>
                    </div>
                </div>
            </div>

	</div>
    </div>

    <!-- see http://codepo8.github.io/css-fork-on-github-ribbon/ -->
    <a href="https://github.com/stopsopa/elkanatooltip" target="_blank"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/e7bbb0521b397edbd5fe43e7f760759336b5e05f/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677265656e5f3030373230302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_green_007200.png"></a>
<script type="text/tmp" data-testdivs>
    <!-- target element vvv -->
        <div class="test_element drag">drag or click</div>
    <!-- target element ^^^ -->

    <!-- tooltip element vvv -->
        <div class="test_tooltip">first line <br /> second line</div>
    <!-- tooltip element ^^^ -->
</script>

<!--    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-52657901-1', 'auto');
        ga('send', 'pageview');
    </script>-->
</body>
</html>